{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\35987\\\\Documents\\\\betty-assessment\\\\src\\\\components\\\\carousel\\\\carousel.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useCallback, useState, useRef } from \"react\";\nimport { getAllMockImages } from \"../../services/image-service\";\nimport { useDebounce } from \"./hooks/use-debounce\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PreloadImage = ({\n  src\n}) => {\n  _s();\n  useEffect(() => {\n    const img = new Image();\n    img.src = src;\n  }, [src]);\n  return null;\n};\n_s(PreloadImage, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = PreloadImage;\nconst Carousel = () => {\n  _s2();\n  var _activeImage$urls, _activeImage$links;\n  const imagesWrapperRef = useRef(null);\n  const [page, setPage] = useState(1);\n  console.log(\"page\", page);\n  const [imgIndex, setImgIndex] = useState(0);\n  const [imagesData, setImagesData] = useState();\n  console.log(\"imagesData\", imagesData);\n  const [activeImage, setActiveImage] = useState();\n  const {\n    debounce\n  } = useDebounce();\n  const getImages = useCallback(async () => {\n    const data = await getAllMockImages(page);\n    if (page === 1) {\n      setActiveImage(data === null || data === void 0 ? void 0 : data[0]);\n    }\n    setImagesData(old => {\n      if (old !== null && old !== void 0 && old.length) {\n        return [...old, ...data];\n      } else {\n        return data;\n      }\n    });\n  }, [page]);\n  useEffect(() => {\n    console.log(\"imgIndex\", imgIndex);\n    if (imgIndex % 10 === 5 && imgIndex >= page * 10 - 5) {\n      setPage(old => old += 1);\n    }\n    setActiveImage(imagesData === null || imagesData === void 0 ? void 0 : imagesData[imgIndex]);\n  }, [imgIndex, imagesData]);\n  useEffect(() => {\n    getImages();\n  }, [getImages]);\n  const setWheelData = (...args) => {};\n  const handleWheel = event => {\n    const scrollSpeed = event.deltaY * 0.5; // Adjust the multiplier as needed\n    console.log(\"scrollSpeed\", scrollSpeed);\n    debounce(setWheelData(scrollSpeed));\n    // if (imgIndex + 1 === imagesData?.length) {\n    //   setImgIndex(0);\n    // } else if (event.deltaY > 0) {\n    //   setImgIndex((old) => (old += 1));\n    // } else if (imgIndex > 0) {\n    //   setImgIndex((old) => (old -= 1));\n    // }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"images-wrapper\",\n      ref: imagesWrapperRef,\n      onWheel: handleWheel,\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: activeImage === null || activeImage === void 0 ? void 0 : (_activeImage$urls = activeImage.urls) === null || _activeImage$urls === void 0 ? void 0 : _activeImage$urls.full,\n        alt: activeImage === null || activeImage === void 0 ? void 0 : (_activeImage$links = activeImage.links) === null || _activeImage$links === void 0 ? void 0 : _activeImage$links.slug\n      }, activeImage === null || activeImage === void 0 ? void 0 : activeImage.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), imagesData && imagesData.map(elm => {\n        var _elm$urls;\n        return /*#__PURE__*/_jsxDEV(PreloadImage, {\n          src: elm === null || elm === void 0 ? void 0 : (_elm$urls = elm.urls) === null || _elm$urls === void 0 ? void 0 : _elm$urls.full\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 20\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s2(Carousel, \"Iz0eEr+bgpKeTuDCXmL0pn1ddhU=\", false, function () {\n  return [useDebounce];\n});\n_c2 = Carousel;\nexport default Carousel;\nvar _c, _c2;\n$RefreshReg$(_c, \"PreloadImage\");\n$RefreshReg$(_c2, \"Carousel\");","map":{"version":3,"names":["React","useEffect","useCallback","useState","useRef","getAllMockImages","useDebounce","jsxDEV","_jsxDEV","Fragment","_Fragment","PreloadImage","src","_s","img","Image","_c","Carousel","_s2","_activeImage$urls","_activeImage$links","imagesWrapperRef","page","setPage","console","log","imgIndex","setImgIndex","imagesData","setImagesData","activeImage","setActiveImage","debounce","getImages","data","old","length","setWheelData","args","handleWheel","event","scrollSpeed","deltaY","children","id","ref","onWheel","urls","full","alt","links","slug","fileName","_jsxFileName","lineNumber","columnNumber","map","elm","_elm$urls","_c2","$RefreshReg$"],"sources":["C:/Users/35987/Documents/betty-assessment/src/components/carousel/carousel.jsx"],"sourcesContent":["import React, { useEffect, useCallback, useState, useRef } from \"react\";\r\n\r\nimport { getAllMockImages } from \"../../services/image-service\";\r\nimport { useDebounce } from \"./hooks/use-debounce\";\r\n\r\nconst PreloadImage = ({ src }) => {\r\n  useEffect(() => {\r\n    const img = new Image();\r\n    img.src = src;\r\n  }, [src]);\r\n\r\n  return null;\r\n};\r\n\r\nconst Carousel = () => {\r\n  const imagesWrapperRef = useRef(null);\r\n\r\n  const [page, setPage] = useState(1);\r\n  console.log(\"page\", page);\r\n  const [imgIndex, setImgIndex] = useState(0);\r\n  const [imagesData, setImagesData] = useState();\r\n  console.log(\"imagesData\", imagesData);\r\n  const [activeImage, setActiveImage] = useState();\r\n\r\n  const { debounce } = useDebounce();\r\n\r\n  const getImages = useCallback(async () => {\r\n    const data = await getAllMockImages(page);\r\n\r\n    if (page === 1) {\r\n      setActiveImage(data?.[0]);\r\n    }\r\n\r\n    setImagesData((old) => {\r\n      if (old?.length) {\r\n        return [...old, ...data];\r\n      } else {\r\n        return data;\r\n      }\r\n    });\r\n  }, [page]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"imgIndex\", imgIndex);\r\n    if (imgIndex % 10 === 5 && imgIndex >= page * 10 - 5) {\r\n      setPage((old) => (old += 1));\r\n    }\r\n\r\n    setActiveImage(imagesData?.[imgIndex]);\r\n  }, [imgIndex, imagesData]);\r\n\r\n  useEffect(() => {\r\n    getImages();\r\n  }, [getImages]);\r\n\r\n  const setWheelData = (...args) => {};\r\n\r\n  const handleWheel = (event) => {\r\n    const scrollSpeed = event.deltaY * 0.5; // Adjust the multiplier as needed\r\n    console.log(\"scrollSpeed\", scrollSpeed);\r\n\r\n    debounce(setWheelData(scrollSpeed));\r\n    // if (imgIndex + 1 === imagesData?.length) {\r\n    //   setImgIndex(0);\r\n    // } else if (event.deltaY > 0) {\r\n    //   setImgIndex((old) => (old += 1));\r\n    // } else if (imgIndex > 0) {\r\n    //   setImgIndex((old) => (old -= 1));\r\n    // }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div id=\"images-wrapper\" ref={imagesWrapperRef} onWheel={handleWheel}>\r\n        <img\r\n          key={activeImage?.id}\r\n          src={activeImage?.urls?.full}\r\n          alt={activeImage?.links?.slug}\r\n        />\r\n\r\n        {imagesData &&\r\n          imagesData.map((elm) => {\r\n            return <PreloadImage src={elm?.urls?.full} />;\r\n          })}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Carousel;\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,WAAW,EAAEC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AAEvE,SAASC,gBAAgB,QAAQ,8BAA8B;AAC/D,SAASC,WAAW,QAAQ,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEnD,MAAMC,YAAY,GAAGA,CAAC;EAAEC;AAAI,CAAC,KAAK;EAAAC,EAAA;EAChCZ,SAAS,CAAC,MAAM;IACd,MAAMa,GAAG,GAAG,IAAIC,KAAK,CAAC,CAAC;IACvBD,GAAG,CAACF,GAAG,GAAGA,GAAG;EACf,CAAC,EAAE,CAACA,GAAG,CAAC,CAAC;EAET,OAAO,IAAI;AACb,CAAC;AAACC,EAAA,CAPIF,YAAY;AAAAK,EAAA,GAAZL,YAAY;AASlB,MAAMM,QAAQ,GAAGA,CAAA,KAAM;EAAAC,GAAA;EAAA,IAAAC,iBAAA,EAAAC,kBAAA;EACrB,MAAMC,gBAAgB,GAAGjB,MAAM,CAAC,IAAI,CAAC;EAErC,MAAM,CAACkB,IAAI,EAAEC,OAAO,CAAC,GAAGpB,QAAQ,CAAC,CAAC,CAAC;EACnCqB,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEH,IAAI,CAAC;EACzB,MAAM,CAACI,QAAQ,EAAEC,WAAW,CAAC,GAAGxB,QAAQ,CAAC,CAAC,CAAC;EAC3C,MAAM,CAACyB,UAAU,EAAEC,aAAa,CAAC,GAAG1B,QAAQ,CAAC,CAAC;EAC9CqB,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEG,UAAU,CAAC;EACrC,MAAM,CAACE,WAAW,EAAEC,cAAc,CAAC,GAAG5B,QAAQ,CAAC,CAAC;EAEhD,MAAM;IAAE6B;EAAS,CAAC,GAAG1B,WAAW,CAAC,CAAC;EAElC,MAAM2B,SAAS,GAAG/B,WAAW,CAAC,YAAY;IACxC,MAAMgC,IAAI,GAAG,MAAM7B,gBAAgB,CAACiB,IAAI,CAAC;IAEzC,IAAIA,IAAI,KAAK,CAAC,EAAE;MACdS,cAAc,CAACG,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAG,CAAC,CAAC,CAAC;IAC3B;IAEAL,aAAa,CAAEM,GAAG,IAAK;MACrB,IAAIA,GAAG,aAAHA,GAAG,eAAHA,GAAG,CAAEC,MAAM,EAAE;QACf,OAAO,CAAC,GAAGD,GAAG,EAAE,GAAGD,IAAI,CAAC;MAC1B,CAAC,MAAM;QACL,OAAOA,IAAI;MACb;IACF,CAAC,CAAC;EACJ,CAAC,EAAE,CAACZ,IAAI,CAAC,CAAC;EAEVrB,SAAS,CAAC,MAAM;IACduB,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEC,QAAQ,CAAC;IACjC,IAAIA,QAAQ,GAAG,EAAE,KAAK,CAAC,IAAIA,QAAQ,IAAIJ,IAAI,GAAG,EAAE,GAAG,CAAC,EAAE;MACpDC,OAAO,CAAEY,GAAG,IAAMA,GAAG,IAAI,CAAE,CAAC;IAC9B;IAEAJ,cAAc,CAACH,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAGF,QAAQ,CAAC,CAAC;EACxC,CAAC,EAAE,CAACA,QAAQ,EAAEE,UAAU,CAAC,CAAC;EAE1B3B,SAAS,CAAC,MAAM;IACdgC,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,CAACA,SAAS,CAAC,CAAC;EAEf,MAAMI,YAAY,GAAGA,CAAC,GAAGC,IAAI,KAAK,CAAC,CAAC;EAEpC,MAAMC,WAAW,GAAIC,KAAK,IAAK;IAC7B,MAAMC,WAAW,GAAGD,KAAK,CAACE,MAAM,GAAG,GAAG,CAAC,CAAC;IACxClB,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEgB,WAAW,CAAC;IAEvCT,QAAQ,CAACK,YAAY,CAACI,WAAW,CAAC,CAAC;IACnC;IACA;IACA;IACA;IACA;IACA;IACA;EACF,CAAC;EAED,oBACEjC,OAAA,CAAAE,SAAA;IAAAiC,QAAA,eACEnC,OAAA;MAAKoC,EAAE,EAAC,gBAAgB;MAACC,GAAG,EAAExB,gBAAiB;MAACyB,OAAO,EAAEP,WAAY;MAAAI,QAAA,gBACnEnC,OAAA;QAEEI,GAAG,EAAEkB,WAAW,aAAXA,WAAW,wBAAAX,iBAAA,GAAXW,WAAW,CAAEiB,IAAI,cAAA5B,iBAAA,uBAAjBA,iBAAA,CAAmB6B,IAAK;QAC7BC,GAAG,EAAEnB,WAAW,aAAXA,WAAW,wBAAAV,kBAAA,GAAXU,WAAW,CAAEoB,KAAK,cAAA9B,kBAAA,uBAAlBA,kBAAA,CAAoB+B;MAAK,GAFzBrB,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEc,EAAE;QAAAQ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAGrB,CAAC,EAED3B,UAAU,IACTA,UAAU,CAAC4B,GAAG,CAAEC,GAAG,IAAK;QAAA,IAAAC,SAAA;QACtB,oBAAOlD,OAAA,CAACG,YAAY;UAACC,GAAG,EAAE6C,GAAG,aAAHA,GAAG,wBAAAC,SAAA,GAAHD,GAAG,CAAEV,IAAI,cAAAW,SAAA,uBAATA,SAAA,CAAWV;QAAK;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAC/C,CAAC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD;EAAC,gBACN,CAAC;AAEP,CAAC;AAACrC,GAAA,CAzEID,QAAQ;EAAA,QAUSX,WAAW;AAAA;AAAAqD,GAAA,GAV5B1C,QAAQ;AA2Ed,eAAeA,QAAQ;AAAC,IAAAD,EAAA,EAAA2C,GAAA;AAAAC,YAAA,CAAA5C,EAAA;AAAA4C,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}